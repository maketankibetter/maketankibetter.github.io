<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <script>"use strict";

var wrap = document.querySelector('.wrap');
var nameHeader = document.querySelector('.name--header');
var channelBody = document.querySelector('.channels--body');
var userBody = document.querySelector('.users--body');
function discordAPI() {
  var init = {
    method: 'GET',
    mode: 'no-cors',
    cache: 'reload'
  };
  fetch('https://discordapp.com/api/guilds/871359243029196850/widget.json', init).then(function (response) {
    if (response.status != 200) {
      console.log("it didn't work" + response.status);
      return;
    }
    response.json().then(function (data) {
      //var channels = data.channels;
      var users = data.members;
      var serverName = data.name;
      var liWrap = document.createElement('ul');
      liWrap.classList.add('channels--list--wrap');
      nameHeader.children[0].innerHTML = serverName;
      function channelsFill() {
        for (var i = 0; i < data.channels.length; i++) {
          var li = document.createElement('li');
          li.classList.add('channel--name');
          li.innerText = data.channels[i].name;
          liWrap.appendChild(li);
          channelBody.appendChild(liWrap);
        }
      }
      function usersFill() {
        for (var n = 0; n < data.members.length; n++) {
          var userWrap = document.createElement('div');
          var userName = document.createElement('span');
          var userImage = document.createElement('img');
          var userGame = document.createElement('span');
          var userStatus = document.createElement('div');
          var imageWrap = document.createElement('div');
          var botTag = document.createElement('div');
          userWrap.classList.add('user');
          userName.classList.add('username');
          userStatus.classList.add('user--status');
          imageWrap.classList.add('image--wrap');
          userGame.classList.add('user--game');
          botTag.classList.add('bot--tag');
          botTag.innerText = 'BOT';
          if (users[n].nick === undefined) {
            userName.innerText = users[n].username;
          } else {
            userName.innerText = users[n].nick;
          }
          if (users[n].status === 'online') {
            userStatus.classList.add('status--online');
          }
          if (users[n].status === 'idle') {
            userStatus.classList.add('status--idle');
          }
          if (users[n].status === 'dnd') {
            userStatus.classList.add('status--dnd');
          }
          if (users[n].bot === true) {
            userWrap.appendChild(botTag);
          }
          if (users[n].game !== undefined) {
            userGame.innerText = users[n].game.name;
          }
          userWrap.appendChild(userGame);
          userImage.classList.add('user--image');
          userImage.setAttribute('src', data.members[n].avatar_url);
          imageWrap.appendChild(userStatus);
          imageWrap.appendChild(userImage);
          userWrap.appendChild(imageWrap);
          userWrap.appendChild(userName);
          userBody.appendChild(userWrap);
        }
      }
      channelsFill();
      usersFill();
    });
  })["catch"](function (err) {
    console.log('fetch error: ' + err);
  });
}
discordAPI();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3cmFwIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmFtZUhlYWRlciIsImNoYW5uZWxCb2R5IiwidXNlckJvZHkiLCJkaXNjb3JkQVBJIiwiaW5pdCIsIm1ldGhvZCIsIm1vZGUiLCJjYWNoZSIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwic3RhdHVzIiwiY29uc29sZSIsImxvZyIsImpzb24iLCJkYXRhIiwidXNlcnMiLCJtZW1iZXJzIiwic2VydmVyTmFtZSIsIm5hbWUiLCJsaVdyYXAiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiY2hpbGRyZW4iLCJpbm5lckhUTUwiLCJjaGFubmVsc0ZpbGwiLCJpIiwiY2hhbm5lbHMiLCJsZW5ndGgiLCJsaSIsImlubmVyVGV4dCIsImFwcGVuZENoaWxkIiwidXNlcnNGaWxsIiwibiIsInVzZXJXcmFwIiwidXNlck5hbWUiLCJ1c2VySW1hZ2UiLCJ1c2VyR2FtZSIsInVzZXJTdGF0dXMiLCJpbWFnZVdyYXAiLCJib3RUYWciLCJuaWNrIiwidW5kZWZpbmVkIiwidXNlcm5hbWUiLCJib3QiLCJnYW1lIiwic2V0QXR0cmlidXRlIiwiYXZhdGFyX3VybCIsImVyciJdLCJzb3VyY2VzIjpbIklubGluZSBCYWJlbCBzY3JpcHQiXSwic291cmNlc0NvbnRlbnQiOlsiXG52YXIgd3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwJyk7XG52YXIgbmFtZUhlYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYW1lLS1oZWFkZXInKTtcbnZhciBjaGFubmVsQm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGFubmVscy0tYm9keScpO1xudmFyIHVzZXJCb2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXJzLS1ib2R5Jyk7XG5mdW5jdGlvbiBkaXNjb3JkQVBJKCl7XG4gIHZhciBpbml0ID0ge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgbW9kZTogJ25vLWNvcnMnLFxuICAgIGNhY2hlOiAncmVsb2FkJ1xuICB9XG4gIGZldGNoKCdodHRwczovL2Rpc2NvcmRhcHAuY29tL2FwaS9ndWlsZHMvODcxMzU5MjQzMDI5MTk2ODUwL3dpZGdldC5qc29uJywgaW5pdCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XG4gICAgaWYocmVzcG9uc2Uuc3RhdHVzICE9IDIwMCl7XG4gICAgICBjb25zb2xlLmxvZyhcIml0IGRpZG4ndCB3b3JrXCIgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgLy92YXIgY2hhbm5lbHMgPSBkYXRhLmNoYW5uZWxzO1xuICAgICAgdmFyIHVzZXJzID0gZGF0YS5tZW1iZXJzO1xuICAgICAgdmFyIHNlcnZlck5hbWUgPSBkYXRhLm5hbWU7XG4gICAgICBsZXQgbGlXcmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICAgIGxpV3JhcC5jbGFzc0xpc3QuYWRkKCdjaGFubmVscy0tbGlzdC0td3JhcCcpO1xuICAgICAgbmFtZUhlYWRlci5jaGlsZHJlblswXS5pbm5lckhUTUwgPSBzZXJ2ZXJOYW1lO1xuICAgICAgZnVuY3Rpb24gY2hhbm5lbHNGaWxsKCl7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGk8ZGF0YS5jaGFubmVscy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgbGV0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdjaGFubmVsLS1uYW1lJyk7XG4gICAgICAgICAgbGkuaW5uZXJUZXh0ID0gZGF0YS5jaGFubmVsc1tpXS5uYW1lO1xuICAgICAgICAgIGxpV3JhcC5hcHBlbmRDaGlsZChsaSk7XG4gICAgICAgICAgY2hhbm5lbEJvZHkuYXBwZW5kQ2hpbGQobGlXcmFwKSA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVzZXJzRmlsbCgpe1xuICAgICAgICBmb3IobGV0IG4gPSAwOyBuIDwgZGF0YS5tZW1iZXJzLmxlbmd0aDsgbisrKXtcbiAgICAgICAgICBsZXQgdXNlcldyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBsZXQgdXNlck5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgbGV0IHVzZXJJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgIGxldCB1c2VyR2FtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICBsZXQgdXNlclN0YXR1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIGxldCBpbWFnZVdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICBsZXQgYm90VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgdXNlcldyYXAuY2xhc3NMaXN0LmFkZCgndXNlcicpO1xuICAgICAgICAgIHVzZXJOYW1lLmNsYXNzTGlzdC5hZGQoJ3VzZXJuYW1lJyk7XG4gICAgICAgICAgdXNlclN0YXR1cy5jbGFzc0xpc3QuYWRkKCd1c2VyLS1zdGF0dXMnKTtcbiAgICAgICAgICBpbWFnZVdyYXAuY2xhc3NMaXN0LmFkZCgnaW1hZ2UtLXdyYXAnKTtcbiAgICAgICAgICB1c2VyR2FtZS5jbGFzc0xpc3QuYWRkKCd1c2VyLS1nYW1lJyk7XG4gICAgICAgICAgYm90VGFnLmNsYXNzTGlzdC5hZGQoJ2JvdC0tdGFnJyk7XG4gICAgICAgICAgYm90VGFnLmlubmVyVGV4dCA9ICdCT1QnO1xuICAgICAgICAgIGlmKHVzZXJzW25dLm5pY2sgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICB1c2VyTmFtZS5pbm5lclRleHQgPSB1c2Vyc1tuXS51c2VybmFtZTtcbiAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHVzZXJOYW1lLmlubmVyVGV4dCA9IHVzZXJzW25dLm5pY2s7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHVzZXJzW25dLnN0YXR1cyA9PT0gJ29ubGluZScpe1xuICAgICAgICAgICAgdXNlclN0YXR1cy5jbGFzc0xpc3QuYWRkKCdzdGF0dXMtLW9ubGluZScpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHVzZXJzW25dLnN0YXR1cyA9PT0gJ2lkbGUnKXtcbiAgICAgICAgICAgIHVzZXJTdGF0dXMuY2xhc3NMaXN0LmFkZCgnc3RhdHVzLS1pZGxlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHVzZXJzW25dLnN0YXR1cyA9PT0nZG5kJyl7XG4gICAgICAgICAgICB1c2VyU3RhdHVzLmNsYXNzTGlzdC5hZGQoJ3N0YXR1cy0tZG5kJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHVzZXJzW25dLmJvdCA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICB1c2VyV3JhcC5hcHBlbmRDaGlsZChib3RUYWcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZih1c2Vyc1tuXS5nYW1lICE9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgdXNlckdhbWUuaW5uZXJUZXh0ID0gdXNlcnNbbl0uZ2FtZS5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1c2VyV3JhcC5hcHBlbmRDaGlsZCh1c2VyR2FtZSk7XG4gICAgICAgICAgdXNlckltYWdlLmNsYXNzTGlzdC5hZGQoJ3VzZXItLWltYWdlJyk7XG4gICAgICAgICAgdXNlckltYWdlLnNldEF0dHJpYnV0ZSgnc3JjJywgZGF0YS5tZW1iZXJzW25dLmF2YXRhcl91cmwpO1xuICAgICAgICAgIGltYWdlV3JhcC5hcHBlbmRDaGlsZCh1c2VyU3RhdHVzKTtcbiAgICAgICAgICBpbWFnZVdyYXAuYXBwZW5kQ2hpbGQodXNlckltYWdlKVxuICAgICAgICAgIHVzZXJXcmFwLmFwcGVuZENoaWxkKGltYWdlV3JhcCk7XG4gICAgICAgICAgdXNlcldyYXAuYXBwZW5kQ2hpbGQodXNlck5hbWUpO1xuICAgICAgICAgIHVzZXJCb2R5LmFwcGVuZENoaWxkKHVzZXJXcmFwKTtcbiAgICAgICAgfVxuICAgICAgfSAgICAgIFxuICAgICAgY2hhbm5lbHNGaWxsKCk7XG4gICAgICB1c2Vyc0ZpbGwoKTtcbiAgICB9KVxuICB9KVxuICAgIC5jYXRjaChmdW5jdGlvbihlcnIpe1xuICAgIGNvbnNvbGUubG9nKCdmZXRjaCBlcnJvcjogJyArIGVycilcbiAgfSlcbn1cbmRpc2NvcmRBUEkoKVxuICAgICJdLCJtYXBwaW5ncyI6Ijs7QUFDQSxJQUFJQSxJQUFJLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLE9BQU8sQ0FBQztBQUMxQyxJQUFJQyxVQUFVLEdBQUdGLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLGVBQWUsQ0FBQztBQUN4RCxJQUFJRSxXQUFXLEdBQUdILFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLGlCQUFpQixDQUFDO0FBQzNELElBQUlHLFFBQVEsR0FBR0osUUFBUSxDQUFDQyxhQUFhLENBQUMsY0FBYyxDQUFDO0FBQ3JELFNBQVNJLFVBQVUsR0FBRTtFQUNuQixJQUFJQyxJQUFJLEdBQUc7SUFDVEMsTUFBTSxFQUFFLEtBQUs7SUFDYkMsSUFBSSxFQUFFLFNBQVM7SUFDZkMsS0FBSyxFQUFFO0VBQ1QsQ0FBQztFQUNEQyxLQUFLLENBQUMsa0VBQWtFLEVBQUVKLElBQUksQ0FBQyxDQUFDSyxJQUFJLENBQUMsVUFBU0MsUUFBUSxFQUFDO0lBQ3JHLElBQUdBLFFBQVEsQ0FBQ0MsTUFBTSxJQUFJLEdBQUcsRUFBQztNQUN4QkMsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUdILFFBQVEsQ0FBQ0MsTUFBTSxDQUFDO01BQy9DO0lBQ0Y7SUFDQUQsUUFBUSxDQUFDSSxJQUFJLEVBQUUsQ0FBQ0wsSUFBSSxDQUFDLFVBQVNNLElBQUksRUFBQztNQUNqQztNQUNBLElBQUlDLEtBQUssR0FBR0Qs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</script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
var wrap = document.querySelector('.wrap');
var nameHeader = document.querySelector('.name--header');
var channelBody = document.querySelector('.channels--body');
var userBody = document.querySelector('.users--body');
function discordAPI(){
  var init = {
    method: 'GET',
    mode: 'no-cors',
    cache: 'reload'
  }
  fetch('https://discordapp.com/api/guilds/871359243029196850/widget.json', init).then(function(response){
    if(response.status != 200){
      console.log("it didn't work" + response.status);
      return
    }
    response.json().then(function(data){
      //var channels = data.channels;
      var users = data.members;
      var serverName = data.name;
      let liWrap = document.createElement('ul');
      liWrap.classList.add('channels--list--wrap');
      nameHeader.children[0].innerHTML = serverName;
      function channelsFill(){
        for(let i = 0; i<data.channels.length; i++){
          let li = document.createElement('li');
          li.classList.add('channel--name');
          li.innerText = data.channels[i].name;
          liWrap.appendChild(li);
          channelBody.appendChild(liWrap) ;
        }
      }
      function usersFill(){
        for(let n = 0; n < data.members.length; n++){
          let userWrap = document.createElement('div');
          let userName = document.createElement('span');
          let userImage = document.createElement('img');
          let userGame = document.createElement('span');
          let userStatus = document.createElement('div');
          let imageWrap = document.createElement('div');
          let botTag = document.createElement('div');
          userWrap.classList.add('user');
          userName.classList.add('username');
          userStatus.classList.add('user--status');
          imageWrap.classList.add('image--wrap');
          userGame.classList.add('user--game');
          botTag.classList.add('bot--tag');
          botTag.innerText = 'BOT';
          if(users[n].nick === undefined){
            userName.innerText = users[n].username;
          }else{
            userName.innerText = users[n].nick;
          }
          if(users[n].status === 'online'){
            userStatus.classList.add('status--online')
          }
          if(users[n].status === 'idle'){
            userStatus.classList.add('status--idle');
          }
          if(users[n].status ==='dnd'){
            userStatus.classList.add('status--dnd');
          }
          if(users[n].bot === true){
            userWrap.appendChild(botTag);
          }
          if(users[n].game !== undefined){
            userGame.innerText = users[n].game.name;
          }
          userWrap.appendChild(userGame);
          userImage.classList.add('user--image');
          userImage.setAttribute('src', data.members[n].avatar_url);
          imageWrap.appendChild(userStatus);
          imageWrap.appendChild(userImage)
          userWrap.appendChild(imageWrap);
          userWrap.appendChild(userName);
          userBody.appendChild(userWrap);
        }
      }      
      channelsFill();
      usersFill();
    })
  })
    .catch(function(err){
    console.log('fetch error: ' + err)
  })
}
discordAPI()
    </script>
    <style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,500;0,700;0,900;1,300;1,500;1,700;1,900&display=swap');
* {box-sizing: border-box;}
html, body {
  height: 100%;
  width: 100%;
  margin: 0;
  background: #23282e;
  font-family: 'Inter', 'Roboto', sans-serif;
}
.wrap {
  height: 100%;
  width: 100%;
  display: flex;
  flex-flow: column;
  color: #fff;
}
.name--header {
  height: 3rem;
  width: 100%;
  background: #5865f2;
  color: #fff;
  display: flex;
  align-items: center;
  padding: 1rem;
  justify-content: space-between;
}
.name--header .name {
  font-weight: 900;
  font-size: 150%;
}
.discord--link {
  height: auto;
  width: 4rem;
  transform: scale(1.5);
  transform-origin: right center;
}
.users {
  display: block;
  flex-direction: column;
}
.users--header {
  font-size: 100%;
  font-weight: 500;
  background: #53565a;
  color: #fff;
  padding: 0.25rem 1rem;
}
.users--body {
  margin: 0;
  padding: 0.5rem;
  display: flex;
  flex-flow: column;
}
.user {
  display: flex;
  flex-flow: row wrap;
  align-items: center;
  font-size: 85%;
  padding: 0.3rem;
  position: relative;
  width: 100%;
}
.user--image {
  width: 100%;
  border-radius: 100%;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.user .username {
  margin: 0 0.5rem;
  position: relative;
}
.user .bot--tag {
  order: 4;
  font-size: 50%;
  background: #7289da;
  padding: 0.2rem;
  border-radius: 0.1rem;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  cursor: default;
}
.user--status {
  height: 0.5rem;
  width: 0.5rem;
  border-radius: 100%;
  position: absolute;
  right: 0;
  bottom: 0;
}
.status--online {background: #43b581;}
.status--idle {background: #faa61a;}
.status--dnd {background: #f04747;}
.image--wrap {
  background: #5865f2;
  position: relative;
  border-radius: 100%;
  height: 1.5rem;
  width: 1.5rem;
}
.user--game {
  order: 5;
  flex-grow: 1;
  display: flex;
  justify-content: flex-end;
  align-items: flex-end;
  position: relative;
  font-size: 75%;
  color: rgba(255, 255, 255, 0.5);
}
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="name--header">
        <div class="name">#MakeTankiBetter</div>
        <a href="https://discordapp.com/" class="discord--link" target="_blank"><img src="https://assets-global.website-files.com/6257adef93867e50d84d30e2/636e0b5493894cf60b300587_full_logo_white_RGB.svg" alt="Discord"></a>
      </div>
      <div class="users">
        <div class="users--header">Online Users</div>
        <div class="users--body"></div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  </body>
</html>
